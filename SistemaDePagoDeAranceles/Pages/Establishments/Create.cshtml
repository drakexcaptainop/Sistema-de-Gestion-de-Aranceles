@page
@using SistemaDePagoDeAranceles.Domain.Models
@model SistemaDePagoDeAranceles.Pages.Establishments.CreateModel
@{
    ViewData["Title"] = "Registrar Establecimiento";
}

<h2 class="mb-4">@ViewData["Title"]</h2>
@if (Model.ResultGetAllPersonInCharge.IsFailure)
{
    <h2 class="mb-4"> No se encontraror encarcagos registrados, registre un encargado para continuar. </h2>
    <a asp-page="/PersonInCharges/Create" class="btn btn-secondary ms-2">Registrar Encargado</a>
}
else
{
    <form method="post" class="card shadow-sm p-4">
    <div asp-validation-summary="All" class="text-danger mb-3"></div>
    <div class="row g-3">
        <div class="col-md-6">
            <label asp-for="Establishment.Name" class="form-label">Nombre</label>
            <input asp-for="Establishment.Name" class="form-control" required />
        </div>

        <div class="col-md-6">
            <label asp-for="Establishment.TaxId" class="form-label">Codigo de Impuesto</label>
            <input asp-for="Establishment.TaxId" class="form-control" />
        </div>

        <div class="col-md-6">
            <label asp-for="Establishment.Email" class="form-label">Correo Electr�nico</label>
            <input asp-for="Establishment.Email" class="form-control" />
        </div>

        <div class="col-md-6">
            <label asp-for="Establishment.Phone" class="form-label">Tel�fono celular</label>
            <input asp-for="Establishment.Phone" class="form-control" />
        </div>

        <div class="col-md-6">
            <label asp-for="Establishment.Address" class="form-label">Direcci�n</label>
            <input asp-for="Establishment.Address" class="form-control" />
        </div>
        
        <div class="col-md-6">
            <label asp-for="Establishment.SanitaryLicense" class="form-label">Licencia Sanitaria</label>
            <input asp-for="Establishment.SanitaryLicense" class="form-control" />
        </div>

        <div class="col-md-6">
            <label asp-for="Establishment.SanitaryLicenseExpiry" class="form-label">Fecha de Vencimiento de Licencia Sanitaria</label>
            <input asp-for="Establishment.SanitaryLicenseExpiry" type="date" class="form-control" />
        </div>

        <div class="col-md-6">
            <label asp-for="Establishment.EstablishmentType" class="form-label">Tipo de Establecimiento</label>
            <select asp-for="Establishment.EstablishmentType" class="form-select">
                <option value="">Seleccionar tipo</option>
                <option value="RESTAURANT">RESTAURANTE</option>
                <option value="BAR">BAR</option>
                <option value="CAFETERIA">CAFETERIA</option>
                <option value="FAST_FOOD">COMIDA RAPIDA</option>
                <option value="OTHER">OTRO</option>
            </select>
        </div>

        <div class="col-md-6">
            <label class="form-label">Persona a Cargo</label>
            <select asp-for="Establishment.PersonInChargeId" class="form-select">
                @foreach (var person in Model.PersonsInCharge)
                {
                    <option value="@person.Id">@String.Concat(person.FirstName, " ",person.LastName) </option>
				}
            </select>
        </div>

    </div>

    <div class="mt-4">
        <button type="submit" class="btn btn-success">Guardar</button>
        <a asp-page="Index" class="btn btn-secondary ms-2">Cancelar</a>
    </div>
</form>

@section Scripts {
    <partial name="_ValidationScriptsPartial" />
}
}


