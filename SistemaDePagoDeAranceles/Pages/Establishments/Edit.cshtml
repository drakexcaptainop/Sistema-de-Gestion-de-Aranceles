@page "{id:int}"
@using SistemaDePagoDeAranceles.Models
@model SistemaDePagoDeAranceles.Pages.Establishments.EditModel
@{
    ViewData["Title"] = "Editar Establecimiento";
}

<h2 class="mb-4">@ViewData["Title"]</h2>

<form method="post" class="card shadow-sm p-4">
    <input type="hidden" asp-for="Establishment.Id" />

    <div class="row g-3">
        <div class="col-md-6">
            <label asp-for="Establishment.Name" class="form-label"></label>
            <input asp-for="Establishment.Name" class="form-control" required minlength="3" maxlength="200" pattern="^(?!\d+$).+" title="El nombre debe tener entre 3 y 200 caracteres y no puede ser solo números." />
            <span asp-validation-for="Establishment.Name" class="text-danger"></span>
        </div>

        <div class="col-md-6">
            <label asp-for="Establishment.BusinessName" class="form-label"></label>
            <input asp-for="Establishment.BusinessName" class="form-control" maxlength="200" />
            <span asp-validation-for="Establishment.BusinessName" class="text-danger"></span>
        </div>

        <div class="col-md-6">
            <label asp-for="Establishment.TaxId" class="form-label"></label>
            <input asp-for="Establishment.TaxId" class="form-control" maxlength="50" pattern="^[A-Za-z0-9\-]+$" title="El NIT solo puede contener letras, números y guiones." />
            <span asp-validation-for="Establishment.TaxId" class="text-danger"></span>
        </div>

        <div class="col-md-6">
            <label asp-for="Establishment.Email" class="form-label"></label>
            <input asp-for="Establishment.Email" class="form-control" type="email" maxlength="150" />
            <span asp-validation-for="Establishment.Email" class="text-danger"></span>
        </div>

        <div class="col-md-6">
            <label asp-for="Establishment.Phone" class="form-label"></label>
            <input asp-for="Establishment.Phone" class="form-control" maxlength="20" pattern="^[0-9()+\-\s]+$" title="Teléfono inválido." />
            <span asp-validation-for="Establishment.Phone" class="text-danger"></span>
        </div>

        <div class="col-md-6">
            <label asp-for="Establishment.Address" class="form-label"></label>
            <input asp-for="Establishment.Address" class="form-control" required maxlength="1000" />
            <span asp-validation-for="Establishment.Address" class="text-danger"></span>
        </div>
        
        <div class="col-md-6" style="display: none">
            <label asp-for="Establishment.SanitaryLicense" class="form-label"></label>
            <input asp-for="Establishment.SanitaryLicense" class="form-control" maxlength="100" />
            <span asp-validation-for="Establishment.SanitaryLicense" class="text-danger"></span>
        </div>
        
        <div class="col-md-6" style="display: none">
            <label asp-for="Establishment.PersonInChargeId" class="form-label"></label>
            <input asp-for="Establishment.PersonInChargeId" class="form-control" />
            <span asp-validation-for="Establishment.PersonInChargeId" class="text-danger"></span>
        </div>
        
        <div class="col-md-6" style="display: none">
            <label asp-for="Establishment.Active" class="form-label"></label>
            <input asp-for="Establishment.Active" class="form-control" />
        </div>

        <div class="col-md-6">
            <label asp-for="Establishment.EstablishmentType" class="form-label"></label>
            <select asp-for="Establishment.EstablishmentType" class="form-select">
                <option value="">Seleccionar tipo</option>
                <option value="RESTAURANT">RESTAURANT</option>
                <option value="BAR">BAR</option>
                <option value="CAFETERIA">CAFETERIA</option>
                <option value="FAST_FOOD">FAST_FOOD</option>
                <option value="OTHER">OTHER</option>
            </select>
        </div>
    </div>

    <div class="mt-4">
        <button type="submit" class="btn btn-warning">Actualizar</button>
        <a asp-page="Index" class="btn btn-secondary ms-2">Cancelar</a>
    </div>
</form>

@section Scripts {
    <partial name="_ValidationScriptsPartial" />
}
